# -*- coding: utf-8 -*-
"""
Generated by ArcGIS ModelBuilder on : 2023-04-18 09:09:06
"""
import arcpy
from arcpy.ia import *
from arcpy.ia import *
from arcpy.ia import *
from arcpy.ia import *
from arcpy.ia import *
from arcpy.sa import *
from arcpy.sa import *
from arcpy.sa import *
from arcpy.sa import *

def ports_model_v2_1():  # ports_model_v2_1

    # To allow overwriting outputs change overwriteOutput option to True.
    arcpy.env.overwriteOutput = False

    # Check out any necessary licenses.
    arcpy.CheckOutExtension("spatial")
    arcpy.CheckOutExtension("ImageAnalyst")

    grid_1km_v01_1_tif = arcpy.Raster("grid_1km_v01.1.tif")
    ports_verysmall_size = "ports_verysmall_size"
    ports_mediuml_size = "ports_mediuml_size"
    ports_large_size = "ports_large_size"
    ports_small_size = "ports_small_size"
    ports_unknown_size_3_ = "ports_unknown_size"
    WIOSym_SMALL_PORTS = "WIOSym_SMALL_PORTS"
    ports_combine_weight_mosiacgrid_cutout_tif_ports_combine_weight_mosiacgrid_cutout_tif = arcpy.Raster("ModelBuilder\\ports_combine_weight_mosiacgrid_cutout.tif:ports_combine_weight_mosiacgrid_cutout.tif")
    proc_2_ = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc"
    ship_pollution_h_year_norm01_1km_v01_2_tif = arcpy.Raster("ship_pollution_h_year_norm01_1km_v01.2.tif")
    TSM_0000000000_0000046592_tif = arcpy.Raster("TSM-0000000000-0000046592.tif")
    TSM_0000000000_0000023296_tif = arcpy.Raster("TSM-0000000000-0000023296.tif")
    proc = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc"
    v02 = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02"
    proc_3_ = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc"
    Ports_v2_tif_3_ = arcpy.Raster("Ports_v2.tif")

    # Process: Raster Calculator (Raster Calculator) (ia)
    grid_0proxy_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v01\\proc\\grid_0proxy.tif"
    Raster_Calculator = grid_0proxy_tif
    with arcpy.EnvManager(cellSize=r"M:\marin\swoc\work\wiosym\data\reg\grid\grid\v01\grid_1km_v01.1.tif", mask="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", 
                          snapRaster="grid_1km_v01.1.tif"):
        grid_0proxy_tif =  grid_1km_v01_1_tif *0
        grid_0proxy_tif.save(Raster_Calculator)


    # Process: Merge (Merge) (management)
    ports_combine_size_addweight_shp = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_combine_size_addweight.shp"
    with arcpy.EnvManager(outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]"):
        arcpy.management.Merge(inputs=[ports_verysmall_size, ports_mediuml_size, ports_large_size, ports_small_size, ports_unknown_size_3_, WIOSym_SMALL_PORTS], output=ports_combine_size_addweight_shp, field_mappings="portname \"portname\" true true false 254 Text 0 0,First,#,ports_verysmall_size,portname,0,254,ports_mediuml_size,portname,0,254,ports_large_size,portname,0,254,ports_small_size,portname,0,254,ports_unknown_size,portname,0,254;code \"code\" true true false 254 Text 0 0,First,#,ports_verysmall_size,code,0,254,ports_mediuml_size,code,0,254,ports_large_size,code,0,254,ports_small_size,code,0,254,ports_unknown_size,code,0,254;prttype \"prttype\" true true false 254 Text 0 0,First,#,ports_verysmall_size,prttype,0,254,ports_mediuml_size,prttype,0,254,ports_large_size,prttype,0,254,ports_small_size,prttype,0,254,ports_unknown_size,prttype,0,254;prtsize \"prtsize\" true true false 254 Text 0 0,First,#,ports_verysmall_size,prtsize,0,254,ports_mediuml_size,prtsize,0,254,ports_large_size,prtsize,0,254,ports_small_size,prtsize,0,254,ports_unknown_size,prtsize,0,254;status \"status\" true true false 254 Text 0 0,First,#,ports_verysmall_size,status,0,254,ports_mediuml_size,status,0,254,ports_large_size,status,0,254,ports_small_size,status,0,254,ports_unknown_size,status,0,254;maxdepth \"maxdepth\" true true false 19 Double 15 18,First,#,ports_verysmall_size,maxdepth,-1,-1,ports_mediuml_size,maxdepth,-1,-1,ports_large_size,maxdepth,-1,-1,ports_small_size,maxdepth,-1,-1,ports_unknown_size,maxdepth,-1,-1;maxlength \"maxlength\" true true false 19 Double 15 18,First,#,ports_verysmall_size,maxlength,-1,-1,ports_mediuml_size,maxlength,-1,-1,ports_large_size,maxlength,-1,-1,ports_small_size,maxlength,-1,-1,ports_unknown_size,maxlength,-1,-1;annualcapa \"annualcapa\" true true false 19 Double 15 18,First,#,ports_verysmall_size,annualcapa,-1,-1,ports_mediuml_size,annualcapa,-1,-1,ports_large_size,annualcapa,-1,-1,ports_small_size,annualcapa,-1,-1,ports_unknown_size,annualcapa,-1,-1;humuse \"humuse\" true true false 254 Text 0 0,First,#,ports_verysmall_size,humuse,0,254,ports_mediuml_size,humuse,0,254,ports_large_size,humuse,0,254,ports_small_size,humuse,0,254,ports_unknown_size,humuse,0,254;locprecisi \"locprecisi\" true true false 254 Text 0 0,First,#,ports_verysmall_size,locprecisi,0,254,ports_mediuml_size,locprecisi,0,254,ports_large_size,locprecisi,0,254,ports_small_size,locprecisi,0,254,ports_unknown_size,locprecisi,0,254;latitude \"latitude\" true true false 19 Double 15 18,First,#,ports_verysmall_size,latitude,-1,-1,ports_mediuml_size,latitude,-1,-1,ports_large_size,latitude,-1,-1,ports_small_size,latitude,-1,-1,ports_unknown_size,latitude,-1,-1;longitude \"longitude\" true true false 19 Double 15 18,First,#,ports_verysmall_size,longitude,-1,-1,ports_mediuml_size,longitude,-1,-1,ports_large_size,longitude,-1,-1,ports_small_size,longitude,-1,-1,ports_unknown_size,longitude,-1,-1;iso3 \"iso3\" true true false 254 Text 0 0,First,#,ports_verysmall_size,iso3,0,254,ports_mediuml_size,iso3,0,254,ports_large_size,iso3,0,254,ports_small_size,iso3,0,254,ports_unknown_size,iso3,0,254;iso3_op \"iso3_op\" true true false 254 Text 0 0,First,#,ports_verysmall_size,iso3_op,0,254,ports_mediuml_size,iso3_op,0,254,ports_large_size,iso3_op,0,254,ports_small_size,iso3_op,0,254,ports_unknown_size,iso3_op,0,254;country \"country\" true true false 254 Text 0 0,First,#,ports_verysmall_size,country,0,254,ports_mediuml_size,country,0,254,ports_large_size,country,0,254,ports_small_size,country,0,254,ports_unknown_size,country,0,254;lastcheckd \"lastcheckd\" true true false 8 Date 0 0,First,#,ports_verysmall_size,lastcheckd,-1,-1,ports_mediuml_size,lastcheckd,-1,-1,ports_large_size,lastcheckd,-1,-1,ports_small_size,lastcheckd,-1,-1,ports_unknown_size,lastcheckd,-1,-1;remarks \"remarks\" true true false 254 Text 0 0,First,#,ports_verysmall_size,remarks,0,254,ports_mediuml_size,remarks,0,254,ports_large_size,remarks,0,254,ports_small_size,remarks,0,254,ports_unknown_size,remarks,0,254;url_lca \"url_lca\" true true false 254 Text 0 0,First,#,ports_verysmall_size,url_lca,0,254,ports_mediuml_size,url_lca,0,254,ports_large_size,url_lca,0,254,ports_small_size,url_lca,0,254,ports_unknown_size,url_lca,0,254;source \"source\" true true false 254 Text 0 0,First,#,ports_verysmall_size,source,0,254,ports_mediuml_size,source,0,254,ports_large_size,source,0,254,ports_small_size,source,0,254,ports_unknown_size,source,0,254;createdate \"createdate\" true true false 8 Date 0 0,First,#,ports_verysmall_size,createdate,-1,-1,ports_mediuml_size,createdate,-1,-1,ports_large_size,createdate,-1,-1,ports_small_size,createdate,-1,-1,ports_unknown_size,createdate,-1,-1;updatedate \"updatedate\" true true false 8 Date 0 0,First,#,ports_verysmall_size,updatedate,-1,-1,ports_mediuml_size,updatedate,-1,-1,ports_large_size,updatedate,-1,-1,ports_small_size,updatedate,-1,-1,ports_unknown_size,updatedate,-1,-1;geonameid \"geonameid\" true true false 9 Long 0 9,First,#,ports_verysmall_size,geonameid,-1,-1,ports_mediuml_size,geonameid,-1,-1,ports_large_size,geonameid,-1,-1,ports_small_size,geonameid,-1,-1,ports_unknown_size,geonameid,-1,-1;gdb_geomat \"gdb_geomat\" true true false 254 Text 0 0,First,#,ports_verysmall_size,gdb_geomat,0,254,ports_mediuml_size,gdb_geomat,0,254,ports_large_size,gdb_geomat,0,254,ports_small_size,gdb_geomat,0,254,ports_unknown_size,gdb_geomat,0,254;value \"value\" true true false 13 Float 0 0,First,#,ports_verysmall_size,value,-1,-1,ports_mediuml_size,value,-1,-1,ports_large_size,value,-1,-1,ports_small_size,value,-1,-1,ports_unknown_size,value,-1,-1;weight \"weight\" true true false 5 Long 0 5,First,#,ports_verysmall_size,weight,-1,-1,ports_mediuml_size,weight,-1,-1,ports_large_size,weight,-1,-1,ports_small_size,weight,-1,-1,ports_unknown_size,weight,-1,-1", add_source="NO_SOURCE_INFO")

    # Process: Project (Project) (management)
    ports_combine_size_addweight_reproj_shp = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_combine_size_addweight._reproj.shp"
    arcpy.management.Project(in_dataset=ports_combine_size_addweight_shp, out_dataset=ports_combine_size_addweight_reproj_shp, out_coor_system="PROJCS[\"WGS_1984_Cylindrical_Equal_Area\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",12.0],PARAMETER[\"standard_parallel_1\",-12.0],UNIT[\"Meter\",1.0]]", transform_method=[], in_coor_system="PROJCS[\"WGS_1984_Cylindrical_Equal_Area\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",12.0],PARAMETER[\"standard_parallel_1\",-12.0],UNIT[\"Meter\",1.0]]", preserve_shape="NO_PRESERVE_SHAPE", max_deviation="", vertical="NO_VERTICAL")

    # Process: Point Statistics (Point Statistics) (sa)
    point_statistic_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v01\\proc\\point_statistic.tif"
    Point_Statistics = point_statistic_tif
    with arcpy.EnvManager(cellSize=r"M:\marin\swoc\work\wiosym\data\reg\grid\grid\v01\grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", snapRaster="grid_1km_v01.1.tif"):
        point_statistic_tif = arcpy.sa.PointStatistics(in_point_features=ports_combine_size_addweight_reproj_shp, field="weight", cell_size=grid_1km_v01_1_tif, neighborhood="Circle 30 CELL", statistics_type="SUM")
        point_statistic_tif.save(Point_Statistics)


    # Process: Point to Raster (Point to Raster) (conversion)
    ports_combine_weighted_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_combine_weighted.tif"
    with arcpy.EnvManager(cellSize=r"M:\marin\swoc\work\wiosym\data\reg\grid\grid\v01\grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", snapRaster="grid_1km_v01.1.tif"):
        arcpy.conversion.PointToRaster(in_features=ports_combine_size_addweight_reproj_shp, value_field="weight", out_rasterdataset=ports_combine_weighted_tif, cell_assignment="RANGE", priority_field="weight", cellsize="5000", build_rat="BUILD")

    # Process: Raster Calculator (8) (Raster Calculator) (sa)
    ports_combine_weighted_5_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_combine_weighted+5.tif"
    Raster_Calculator_8_ = ports_combine_weighted_5_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", snapRaster="grid_1km_v01.1.tif"):
        ports_combine_weighted_5_tif =  ports_combine_weighted_tif+5
        ports_combine_weighted_5_tif.save(Raster_Calculator_8_)


    # Process: Mosaic To New Raster (Mosaic To New Raster) (management)
    mosiac_ports_weight_tif = arcpy.management.MosaicToNewRaster(input_rasters=[ports_combine_weighted_5_tif, grid_1km_v01_1_tif], output_location=proc_2_, raster_dataset_name_with_extension="mosiac_ports_weight.tif", coordinate_system_for_the_raster="", pixel_type="32_BIT_FLOAT", cellsize=None, number_of_bands=1, mosaic_method="SUM", mosaic_colormap_mode="FIRST")[0]
    mosiac_ports_weight_tif = arcpy.Raster(mosiac_ports_weight_tif)

    # Process: Focal Statistics (Focal Statistics) (ia)
    ports_focal_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_focal.tif"
    Focal_Statistics = ports_focal_tif
    with arcpy.EnvManager(cellSize=r"M:\marin\swoc\work\wiosym\data\reg\grid\grid\v01\grid_1km_v01.1.tif", mask="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", 
                          snapRaster="grid_1km_v01.1.tif"):
        ports_focal_tif = arcpy.ia.FocalStatistics(in_raster=mosiac_ports_weight_tif, neighborhood="Wedge 20 0 360 CELL", statistics_type="RANGE", ignore_nodata="DATA", percentile_value=90)
        ports_focal_tif.save(Focal_Statistics)


    # Process: Raster Calculator (2) (Raster Calculator) (ia)
    ports_ship_pol_weightX5_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_ship_pol_weightX5.tif"
    Raster_Calculator_2_ = ports_ship_pol_weightX5_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", snapRaster="grid_1km_v01.1.tif"):
        ports_ship_pol_weightX5_tif =  ship_pollution_h_year_norm01_1km_v01_2_tif*100
        ports_ship_pol_weightX5_tif.save(Raster_Calculator_2_)


    # Process: Mosaic To New Raster (2) (Mosaic To New Raster) (management)
    mosaic_tesm_tif = arcpy.management.MosaicToNewRaster(input_rasters=[TSM_0000000000_0000046592_tif, TSM_0000000000_0000023296_tif], output_location=proc, raster_dataset_name_with_extension="mosaic_tesm.tif", coordinate_system_for_the_raster="PROJCS[\"WGS_1984_Cylindrical_Equal_Area\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",12.0],PARAMETER[\"standard_parallel_1\",-12.0],UNIT[\"Meter\",1.0]]", pixel_type="32_BIT_FLOAT", cellsize=None, number_of_bands=1, mosaic_method="LAST", mosaic_colormap_mode="FIRST")[0]
    mosaic_tesm_tif = arcpy.Raster(mosaic_tesm_tif)

    # Process: Project Raster (Project Raster) (management)
    TSM_grid_project_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\TSM_grid_project.tif"
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", snapRaster="grid_1km_v01.1.tif"):
        arcpy.management.ProjectRaster(in_raster=mosaic_tesm_tif, out_raster=TSM_grid_project_tif, out_coor_system="PROJCS[\"WGS_1984_Cylindrical_Equal_Area\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",12.0],PARAMETER[\"standard_parallel_1\",-12.0],UNIT[\"Meter\",1.0]]", resampling_type="NEAREST", cell_size="1000 1000", geographic_transform=[], Registration_Point="", in_coor_system="PROJCS[\"WGS_1984_Cylindrical_Equal_Area\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",12.0],PARAMETER[\"standard_parallel_1\",-12.0],UNIT[\"Meter\",1.0]]", vertical="NO_VERTICAL")
        TSM_grid_project_tif = arcpy.Raster(TSM_grid_project_tif)

    # Process: Extract by Mask (Extract by Mask) (sa)
    TSM_grid_project_extract_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\TSM_grid_project_extract.tif"
    Extract_by_Mask = TSM_grid_project_extract_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", mask="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", 
                          snapRaster="grid_1km_v01.1.tif"):
        TSM_grid_project_extract_tif = arcpy.sa.ExtractByMask(in_raster=TSM_grid_project_tif, in_mask_data=grid_1km_v01_1_tif)
        TSM_grid_project_extract_tif.save(Extract_by_Mask)


    # Process: Raster Calculator (3) (Raster Calculator) (sa)
    ports_combine_weight_mosiacgrid_cutout_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_combine_weight_mosiacgrid_cutout.tif"
    Raster_Calculator_3_ = ports_combine_weight_mosiacgrid_cutout_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", mask="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", 
                          snapRaster="grid_1km_v01.1.tif"):
        ports_combine_weight_mosiacgrid_cutout_tif =  (SetNull(TSM_grid_project_extract_tif>100, TSM_grid_project_extract_tif))*(-1)
        ports_combine_weight_mosiacgrid_cutout_tif.save(Raster_Calculator_3_)


    # Process: Raster Calculator (6) (Raster Calculator) (ia)
    TSM_normx2_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\TSM_normx2.tif"
    Raster_Calculator_6_ = TSM_normx2_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", snapRaster="grid_1km_v01.1.tif"):
        TSM_normx2_tif =  ((ports_combine_weight_mosiacgrid_cutout_tif-ports_combine_weight_mosiacgrid_cutout_tif.minimum)/(ports_combine_weight_mosiacgrid_cutout_tif.maximum-ports_combine_weight_mosiacgrid_cutout_tif.minimum))*10
        TSM_normx2_tif.save(Raster_Calculator_6_)


    # Process: Raster Calculator (4) (Raster Calculator) (sa)
    ports_tsm_ship_pol_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_tsm_ship_pol.tif"
    Raster_Calculator_4_ = ports_tsm_ship_pol_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", mask="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", 
                          snapRaster="grid_1km_v01.1.tif"):
        ports_tsm_ship_pol_tif =  ports_focal_tif * ports_ship_pol_weightX5_tif * TSM_normx2_tif
        ports_tsm_ship_pol_tif.save(Raster_Calculator_4_)


    # Process: Raster Calculator (5) (Raster Calculator) (sa)
    ports_tsm_ship_pol_setnull_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\ports_tsm_ship_pol_setnull.tif"
    Raster_Calculator_5_ = ports_tsm_ship_pol_setnull_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", mask="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", 
                          snapRaster="grid_1km_v01.1.tif"):
        ports_tsm_ship_pol_setnull_tif =  SetNull(ports_tsm_ship_pol_tif <=0, ports_tsm_ship_pol_tif)
        ports_tsm_ship_pol_setnull_tif.save(Raster_Calculator_5_)


    # Process: Raster Calculator (7) (Raster Calculator) (ia)
    grid0_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\proc\\grid0.tif"
    Raster_Calculator_7_ = grid0_tif
    grid0_tif =  grid_1km_v01_1_tif *0
    grid0_tif.save(Raster_Calculator_7_)


    # Process: Mosaic To New Raster (3) (Mosaic To New Raster) (management)
    Ports_v2_tif = arcpy.management.MosaicToNewRaster(input_rasters=[ports_tsm_ship_pol_setnull_tif, grid0_tif], output_location=v02, raster_dataset_name_with_extension="Ports_v2.tif", coordinate_system_for_the_raster="PROJCS[\"WGS_1984_Cylindrical_Equal_Area\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",12.0],PARAMETER[\"standard_parallel_1\",-12.0],UNIT[\"Meter\",1.0]]", pixel_type="32_BIT_FLOAT", cellsize=None, number_of_bands=1, mosaic_method="SUM", mosaic_colormap_mode="FIRST")[0]
    Ports_v2_tif = arcpy.Raster(Ports_v2_tif)

    # Process: Raster Calculator (9) (Raster Calculator) (ia)
    Ports_v02_tif = "M:\\marin\\swoc\\work\\wiosym\\data\\reg\\pres\\ports\\v02\\Ports_v02.tif"
    Raster_Calculator_9_ = Ports_v02_tif
    with arcpy.EnvManager(cellSize="grid_1km_v01.1.tif", outputCoordinateSystem="PROJCS["WGS_1984_Cylindrical_Equal_Area",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Cylindrical_Equal_Area"],PARAMETER["false_easting",0.0],PARAMETER["false_northing",0.0],PARAMETER["central_meridian",12.0],PARAMETER["standard_parallel_1",-12.0],UNIT["Meter",1.0]]", snapRaster="grid_1km_v01.1.tif"):
        Ports_v02_tif = SquareRoot(Ports_v2_tif_3_) 
        Ports_v02_tif.save(Raster_Calculator_9_)


if __name__ == '__main__':
    # Global Environment settings
    with arcpy.EnvManager(scratchWorkspace=r"M:\marin\swoc\work\wiosym\data\reg\pres\ports\v01\proc\ports\Default.gdb", workspace=r"M:\marin\swoc\work\wiosym\data\reg\pres\ports\v01\proc\ports\Default.gdb"):
        ports_model_v2_1()
